# 1. 왜 헥사고날 아키텍처인가



## 헥사고날 아키텍처의 이해

이 책에선 크게 3가지의 헥사곤으로 분류하고 있다. (3가지 레이어 정도로 분류해서 생각하면 될듯!)

도메인 헥사곤, 애플리케이션 헥사곤, 프레임워크 헥사곤

가장 중요한 것은 비즈니스 코드를 기술 코드로부터 분리하는 것!



- 도메인 헥사곤
  - 해결하고자 하는 핵심 문제를 설명하는 요소들을 결합
  - 엔티티와 vo 를 사용
- 애플리케이션 헥사곤
  - 도메인에서 나오는 비즈니스 규칙을 사용, 처리하고 조정한다.
  - **포트와 유스케이스를 활용**해 기능을 수행한다!
- 프레임워크 헥사곤
  - 외부 인터페이스를 제공
  - 프레임 워크는 애플리케이션 기능의 노출 방법을 결정할 수 있는 곳
  - REST 나 gRPC 엔드포인트를 정의
  - 다른 시스템에서 데이터를 가져오는 메커니즘을 정의하기 위해 프레임워크 레이어를 사용



## 도매인 헥사곤 (레이어)

### 엔티티

객체를 특징짓는 것은 연속성과 정체성

### 값 객체

무언가 고유하게 식별할 필요가 없는 경우는 물론, 객체의 정체성보다 속성에 관심을 갖는 경우 코드의 표현력을 보완한다.

도메인 전체에서 예상치 못한 불일치를 막기 위해 vo 는 변경할 수 없어야 한다.



## 애플리케이션 레이어

애플리케이션 특화 작업을 추상적으로 처리하는 곳.

이곳에 유스케이스, 입력 포트, 출력 포트가 존재한다. 

```
출력 포트가 이곳에 존재한다면,
출력 포트의 함수명에 어느 정도 구체화된 메소드가 있는 것이 아주 잘 이해된다.

이 책에선 useCase 의 구현체가 inputPort 
input port == 내가 쓰던 service

outputPort 는 인터페이스에 해당한다. 
```



### 유스케이스

소프트웨어가 할 수 있는 것을 표현하는 인터페이스로 정의도니 추상화로 나타낸다. 

### 입력 포트

유스케이스의 구현체

### 출력 포트

외부 리소스에서 데이터를 가져온다.

기술에 구애받지 않고 설명하는 인터페이스로 표현.

## 프레임워크 레이어

소프트웨어와 통신할 수 있는 기술을 결정해야 한다!

- 드라이빙 오퍼레이션 
  - input adapter
    - 소프트웨어에 동작을 요청하는 것
- 드리븐 오퍼레이션
  - output adapter
    - 애플리케이션에서 트리거된다.





